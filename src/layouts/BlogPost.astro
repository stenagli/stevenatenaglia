---
import BaseLayout from '@layouts/BaseLayout.astro';
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import FormattedDate from '@components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];
const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <main class="max-w-3xl mx-auto px-4 py-12">
    <article>
      {heroImage && (
        <div class="mb-8">
          <Image
            width={1020}
            height={510}
            src={heroImage}
            alt=""
            class="w-full rounded-2xl shadow-sm"
          />
        </div>
      )}

      <header class="mb-10 text-center">
        <h1 class="text-4xl font-bold tracking-tight text-gray-900">
          {title}
        </h1>
        <p class="mt-3 text-sm text-gray-500">
          <FormattedDate date={pubDate} />
        </p>
        {updatedDate && (
          <p class="mt-1 text-xs text-gray-400 italic">
            Last updated on <FormattedDate date={updatedDate} />
          </p>
        )}
        <hr class="mt-6 border-gray-200" />
      </header>

      <div class="prose prose-lg prose-indigo max-w-none">
        <slot />
      </div>
    </article>
  </main>
</BaseLayout>
